{% extends "base.html" %}

{% block title %}Telegram Media Analysis Hub{% endblock %}

{% block header %}
<div class="header">
    <h1>📊 Telegram Media Analysis Hub</h1>
    <p>Comprehensive analysis of your Telegram media collection</p>
</div>
{% endblock %}

{% block content %}
<div class="stats-overview">
    <h2 style="text-align: center; color: #333; margin-bottom: 30px;">📈 Database Overview</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-value">{{ stats.total_messages | default('N/A') | format_number }}</div>
            <div class="stat-label">Total Messages</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ stats.total_channels | default('N/A') | format_number }}</div>
            <div class="stat-label">Total Channels</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ stats.total_storage_gb | default('N/A') | float | round(2) }} GB</div>
            <div class="stat-label">Total Storage</div>
        </div>
        <div class="stat-card">
            <div class="stat-value">{{ stats.media_breakdown | length | default(0) }}</div>
            <div class="stat-label">Media Types</div>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 20px;">
        <p><strong>Date Range:</strong> {{ stats.date_range | default('N/A') }}</p>
        <p><strong>Last Updated:</strong> {{ current_time }}</p>
    </div>
</div>

<div class="navigation">
    <h2 style="text-align: center; color: #333; margin-bottom: 30px;">🔍 Analysis Pages</h2>
    <div class="nav-grid">
        <a href="database_analysis.html" class="nav-card">
            <h3>📊 Database Analysis</h3>
            <p>Comprehensive field-by-field analysis of all messages with detailed insights and interactive charts</p>
        </a>
        
        {% for channel, count in stats.channel_breakdown.items() %}
        <a href="channel_{{ channel | replace('@', '') | replace('/', '_') | replace(' ', '_') }}.html" class="nav-card">
            <h3>📺 {{ channel }}</h3>
            <p>Detailed analysis of {{ count | format_number }} messages from this channel with media breakdown and insights</p>
        </a>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block extra_head %}
<style>
    .stats-overview { 
        background: white; 
        border-radius: 15px; 
        padding: 30px; 
        margin-bottom: 30px; 
        box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    }
    
    .nav-grid { 
        display: grid; 
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
        gap: 20px; 
    }
    
    .nav-card { 
        background: #f8f9fa; 
        border: 2px solid #e9ecef; 
        border-radius: 12px; 
        padding: 25px; 
        text-align: center; 
        transition: all 0.3s ease; 
        text-decoration: none; 
        color: #333;
    }
    
    .nav-card:hover { 
        transform: translateY(-5px); 
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        border-color: #1e3c72;
    }
    
    .nav-card h3 { 
        color: #1e3c72; 
        margin-bottom: 15px; 
    }
    
    .nav-card p { 
        color: #666; 
        margin-bottom: 0; 
    }
</style>
{% endblock %}
